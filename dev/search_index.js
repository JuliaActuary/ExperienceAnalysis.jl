var documenterSearchIndex = {"docs":
[{"location":"api/#API-Reference","page":"API Reference","title":"API Reference","text":"","category":"section"},{"location":"api/#ExperienceAnalysis.exposure","page":"API Reference","title":"ExperienceAnalysis.exposure","text":"exposure(\n    p::Anniversary,\n    from::Date,\n    to::Date,\n    continued_exposure::Bool = false;\n    study_start=typemin(from),\n    study_end=typemax(from),\n    left_partials::Bool=true,\n    right_partials::Bool=true,\n)::Vector{NamedTuple{(:from, :to, :policy_timestep),Tuple{Date,Date,Union{Int,Nothing}}}}\n\nCalcualte the exposure periods and returns an array of named tuples with fields:\n\nfrom (a Date) is the start date of the exposure interval\nto (a Date) is the end of the exposure interval\npolicy_step will either be an Int if an Anniversary or AnniversaryCalendar basis is used, otherwise will be nothing\n\nIf continued_exposure is true, then the final to date will continue through the end of the final exposure period. This is useful if you want the decrement of interest is the cause of termination, because then you want a full exposure.\n\nIf left_partials or right_partials is set to false, then the exposure will not return partial exposure periods that overlap with the study_start and study_end respectively.\n\nExample\n\n```julia-repl julia> using ExperienceAnalysis,Dates julia> exposure(     ExperienceAnalysis.Anniversary(Year(1)), # basis     Date(2020,5,10),                         # issue     Date(2022, 6, 10);                       # termination ) 3-element Vector{NamedTuple{(:from, :to, :policytimestep), Tuple{Date, Date, Int64}}}:  (from = Date(\"2020-05-10\"), to = Date(\"2021-05-09\"), policytimestep = 1)  (from = Date(\"2021-05-10\"), to = Date(\"2022-05-09\"), policytimestep = 2)  (from = Date(\"2022-05-10\"), to = Date(\"2022-06-10\"), policytimestep = 3)\n\n\n\n\n\n","category":"function"},{"location":"api/#ExperienceAnalysis.validate-NTuple{4, Dates.Date}","page":"API Reference","title":"ExperienceAnalysis.validate","text":"If data has problems like from > to or study_start > study_end throw an error.  If the policy doesn't overlap with the study period, return false. If there is overlap, return true.\n\n\n\n\n\n","category":"method"},{"location":"#ExperienceAnalysis.jl","page":"Overview","title":"ExperienceAnalysis.jl","text":"Calculate actuarial exposure periods for experience studies.","category":"section"},{"location":"#Quickstart","page":"Overview","title":"Quickstart","text":"using ExperienceAnalysis, Dates\n\ndf = DataFrame(\n    policy_id = 1:3,\n    issue_date = [Date(2020,5,10), Date(2020,4,5), Date(2019, 3, 10)],\n    end_date = [Date(2022, 6, 10), Date(2022, 8, 10), Date(2022,12,31)],\n    status = [\"claim\", \"lapse\", \"inforce\"]\n)\n\ndf.policy_year = exposure.(\n    ExperienceAnalysis.Anniversary(Year(1)),\n    df.issue_date,\n    df.end_date,\n    df.status .== \"claim\"; # continued exposure\n    study_start = Date(2020, 1, 1),\n    study_end = Date(2022, 12, 31)\n)\n\ndf = flatten(df, :policy_year)","category":"section"},{"location":"#Exposure-Basis","page":"Overview","title":"Exposure Basis","text":"There are three options for calculating the exposure basis:\n\nExperienceAnalysis.Anniversary(period) — exposure periods based on the policy issue date\nExperienceAnalysis.Calendar(period) — exposure periods aligned to calendar periods (e.g. month or year)\nExperienceAnalysis.AnniversaryCalendar(pol_period, cal_period) — splits into the smaller of the calendar or policy anniversary period\n\nWhere period is a Period Type from the Dates standard library.","category":"section"},{"location":"#Anniversary","page":"Overview","title":"Anniversary","text":"ExperienceAnalysis.Anniversary(DatePeriod) gives exposure periods based on the issue date. Exposure intervals fall on anniversaries: start_date + t * dateperiod.\n\njulia> exposure(\n           ExperienceAnalysis.Anniversary(Year(1)),\n           Date(2020,5,10),\n           Date(2022, 6, 10);\n           study_start = Date(2020, 1, 1),\n           study_end = Date(2022, 12, 31)\n       )\n3-element Vector{@NamedTuple{from::Date, to::Date, policy_timestep::Int64}}:\n (from = Date(\"2020-05-10\"), to = Date(\"2021-05-09\"), policy_timestep = 1)\n (from = Date(\"2021-05-10\"), to = Date(\"2022-05-09\"), policy_timestep = 2)\n (from = Date(\"2022-05-10\"), to = Date(\"2022-06-10\"), policy_timestep = 3)","category":"section"},{"location":"#Calendar","page":"Overview","title":"Calendar","text":"ExperienceAnalysis.Calendar(DatePeriod) follows calendar periods (e.g. month or year). Quarterly exposures can be created with Month(3) — the number of months should divide 12.\n\njulia> exposure(\n           ExperienceAnalysis.Calendar(Year(1)),\n           Date(2020,5,10),\n           Date(2022, 6, 10);\n           study_start = Date(2020, 1, 1),\n           study_end = Date(2022, 12, 31)\n       )\n3-element Vector{@NamedTuple{from::Date, to::Date, policy_timestep::Nothing}}:\n (from = Date(\"2020-05-10\"), to = Date(\"2020-12-31\"), policy_timestep = nothing)\n (from = Date(\"2021-01-01\"), to = Date(\"2021-12-31\"), policy_timestep = nothing)\n (from = Date(\"2022-01-01\"), to = Date(\"2022-06-10\"), policy_timestep = nothing)","category":"section"},{"location":"#AnniversaryCalendar","page":"Overview","title":"AnniversaryCalendar","text":"ExperienceAnalysis.AnniversaryCalendar(DatePeriod, DatePeriod) splits into the smaller of the calendar or policy anniversary period, ensuring each exposure interval falls entirely within a single calendar year.\n\njulia> exposure(\n           ExperienceAnalysis.AnniversaryCalendar(Year(1), Year(1)),\n           Date(2020,5,10),\n           Date(2022, 6, 10);\n           study_start = Date(2020, 1, 1),\n           study_end = Date(2022, 12, 31)\n       )\n5-element Vector{@NamedTuple{from::Date, to::Date, policy_timestep::Int64}}:\n (from = Date(\"2020-05-10\"), to = Date(\"2020-12-31\"), policy_timestep = 1)\n (from = Date(\"2021-01-01\"), to = Date(\"2021-05-09\"), policy_timestep = 1)\n (from = Date(\"2021-05-10\"), to = Date(\"2021-12-31\"), policy_timestep = 2)\n (from = Date(\"2022-01-01\"), to = Date(\"2022-05-09\"), policy_timestep = 2)\n (from = Date(\"2022-05-10\"), to = Date(\"2022-06-10\"), policy_timestep = 3)","category":"section"},{"location":"#Parameters","page":"Overview","title":"Parameters","text":"","category":"section"},{"location":"#from,-to,-study_start,-study_end","page":"Overview","title":"from, to, study_start, study_end","text":"from — the date the policy was issued\nto — the date the policy was terminated, or the last observed date if still in-force\nstudy_start — the start of the study period\nstudy_end — the end of the study period","category":"section"},{"location":"#continued_exposure","page":"Overview","title":"continued_exposure","text":"When doing a decrement study, policies are given a full exposure period in the period of the decrement. Set continued_exposure = true for this behavior. Note that continued_exposure is a positional argument (not keyword) so it supports broadcasting.\n\njulia> exposure(\n           ExperienceAnalysis.AnniversaryCalendar(Year(1), Year(1)),\n           Date(2020,5,10),\n           Date(2022, 6, 10),\n           true;\n           study_start = Date(2020, 1, 1),\n           study_end = Date(2022, 9, 30)\n       )\n5-element Vector{@NamedTuple{from::Date, to::Date, policy_timestep::Int64}}:\n (from = Date(\"2020-05-10\"), to = Date(\"2020-12-31\"), policy_timestep = 1)\n (from = Date(\"2021-01-01\"), to = Date(\"2021-05-09\"), policy_timestep = 1)\n (from = Date(\"2021-05-10\"), to = Date(\"2021-12-31\"), policy_timestep = 2)\n (from = Date(\"2022-01-01\"), to = Date(\"2022-05-09\"), policy_timestep = 2)\n (from = Date(\"2022-05-10\"), to = Date(\"2022-12-31\"), policy_timestep = 3)","category":"section"},{"location":"#left_partials-and-right_partials","page":"Overview","title":"left_partials and right_partials","text":"Assumptions like lapse rates can have uneven distributions within policy years, so you may want to exclude partial exposure periods. Set left_partials = false and/or right_partials = false to remove partial exposures at the study boundaries.\n\njulia> exposure(\n           ExperienceAnalysis.Anniversary(Year(1)),\n           Date(2019,5,10),\n           Date(2022, 6, 10);\n           study_start = Date(2020, 1, 1),\n           study_end = Date(2021, 12, 31),\n           left_partials = false,\n           right_partials = false\n       )\n2-element Vector{@NamedTuple{from::Date, to::Date, policy_timestep::Int64}}:\n (from = Date(\"2020-05-10\"), to = Date(\"2021-05-09\"), policy_timestep = 2)\n (from = Date(\"2021-05-10\"), to = Date(\"2021-12-31\"), policy_timestep = 3)","category":"section"},{"location":"#References","page":"Overview","title":"References","text":"Experience Study Calculations by the Society of Actuaries","category":"section"},{"location":"#Related-Packages","page":"Overview","title":"Related Packages","text":"actxps, an R package","category":"section"}]
}
